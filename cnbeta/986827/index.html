<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="referrer" content="never">
	<title>[图]Android 11特性调整：安装外部来源应用需要重启APP - 罩妖塔</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<meta property="og:title" content="[图]Android 11特性调整：安装外部来源应用需要重启APP" />
<meta property="og:description" content="尽管每次 Android 版本更新都会引入一系列新功能，但谷歌习惯重新打磨或者完全删除某些称手的功能和特性，而目前处于Developer
Preview 4 的 Android 11 也不例外。正如谷歌在问题追踪器上提交的那样，新版 Android
让应用安装APK的权限变得不再方便，需要重新启动相关应用才能生效。该行为与强制分区存储（Scoped Storage)有关。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/n/cnbeta/986827/" />
<meta property="article:published_time" content="2020-06-04T10:25:40+08:00" />
<meta property="article:modified_time" content="2020-06-04T10:25:40+08:00" />

	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/n/css/style.css">
	
	<link rel="shortcut icon" href="/n/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/n" title="罩妖塔" rel="home">
				<div class="logo__title">罩妖塔</div>
				<div class="logo__tagline">师傅，别跑</div>
			</a>
		</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/n/cnbeta">
				
				<span class="menu__text">行业资讯</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[图]Android 11特性调整：安装外部来源应用需要重启APP</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2020-06-04T10:25:40&#43;08:00">June 04, 2020</time></div></div>
		</header>
		<div class="content post__content clearfix">
			<p>尽管每次 Android 版本更新都会引入一系列新功能，但谷歌习惯重新打磨或者完全删除某些称手的功能和特性，而目前处于Developer
Preview 4 的 Android 11 也不例外。正如谷歌在问题追踪器上提交的那样，新版 Android
让应用安装APK的权限变得不再方便，需要重新启动相关应用才能生效。该行为与强制分区存储（Scoped Storage)有关。</p>
<p>6·18活动已全面开启 大促活动入口汇总：</p>
<p>阿里云6·18上云年中大促 点击领取最高12000元红包</p>
<p>2020天猫6·18超级红包在此领取 6月1日追加40亿元消费券</p>
<p>京东6·18十七周年庆大促主会场入口 - 最高可领618元红包</p>
<p>在 Android 10 及以下版本，APK 文件的安装过程相对来说比较简单。当你从浏览器或者其他应用（例如 APKMirror Installer）中安装APK文件的时候，会被要求授予安装权限。</p>
<p>如果你选择打开该选项，那么使用手势或者点击返回按钮就会跳转回原来的位置，并且会跳出一个对话框询问你是否愿意安装之前选择的APK。如下方图片所示：</p>
<p><img src="https://static.cnbetacdn.com/thumb/article/2020/0604/c9d4761d3a7da0b.jpg" alt="img:[图]Android 11特性调整：安装外部来源应用需要重启APP"></p>
<p>而这个行为在 Android 11 上就会发生改变。正如不满该特性的测试人员在该问题的追踪页面上所反馈的，在用户授予权限之后，虽然安装对话框依然会弹出，但是该应用本身就消失了。</p>
<p>当你重新打开应用程序的时候，你就会发现整个 APP 被重新加载，这就意味着此前输入的内容或者其他尚未缓存的数据就会丢失。而 Android 通常只有在撤销权限的时候才会强行退出应用程序以阻止应用被破解，而不是在授予权限的时候强行退出。</p>
<p><img src="https://static.cnbetacdn.com/article/2020/0604/b3484770d6abbea.gif" alt="img:[图]Android 11特性调整：安装外部来源应用需要重启APP"></p>
<p>在问题追踪器上，谷歌工程师并没有太过重视这个问题。最初的评论中只是写道：“这实际上是按照预期的工作方式进行”。直到有更多开发者反馈这个问题之后，谷歌才明确这个新特性是实际上和分区存储（Scoped Storage)有关。</p>
<p>在 Android R 中，文件系统和存储挂载的设置方式发生了很大变化。当一个应用程序在没有这个权限的情况下启动时，它将获得一个不允许写入某些目录（例如 Android/obb 的文件系统视图。一旦应用被授予了这个权限，这个视图就不再准确，需要更新为允许应用写入某些目录的视图。</p>
<p>以 Android R 文件系统现有的设置方式，不可能马上改变这个视图。正如评论#16中提到的，我们正在内部评估。我只是提供了一些额外的细节，说明为什么这和Q上的方式不一样。</p>
<p>虽然 Scoped Storage 将有利于安全和隐私，但新系统显然会带来比预期的更大的变化。让我们希望该公司想出一个不需要强行退出应用程序改变其读写权限的解决方案。但 sideloading 支持在谷歌的优先级上不会太高，我不会感到惊讶，特别是由于每个应用程序只需要授予权限一次，因此理想情况下，每个应用程序只需要强行停止一次。</p>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/n/cnbeta/986825/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">古代石柱的神秘排列：为何能与太阳排成一线？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/n/cnbeta/986875/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">王石：不相信马云对财富不重视 我很在乎钱</p>
		</a>
	</div>
</nav>



			</div>
			<aside class="sidebar">
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/n/cnbeta/988615/">苹果因滑动解锁和QuickPath等功能遭专利诉讼</a></li>
			<li class="widget__item"><a class="widget__link" href="/n/cnbeta/988625/">WhatsApp漏洞或已暴露用户的手机号码</a></li>
			<li class="widget__item"><a class="widget__link" href="/n/cnbeta/988631/">[图]美国空军AI无人机已具雏形 明年7月将进行人机对抗测试</a></li>
			<li class="widget__item"><a class="widget__link" href="/n/cnbeta/988619/">AMD终止了对英特尔Kaby Lake G芯片的图形驱动支持</a></li>
			<li class="widget__item"><a class="widget__link" href="/n/cnbeta/988613/">金门大桥因安装了新人行道栏杆板而开始演奏“乐曲”</a></li>
		</ul>
	</div>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2020 罩妖塔.
			
		</div>
	</div>
</footer>

	</div>
<script async defer src="/n/js/menu.js"></script>
</body>
</html>
